<!doctype html>
<meta charset="utf-8">

<!--
Copyright (C) eXerigumo Clanjor (哆啦比猫/兰威举), 2010-2012.
Under GPLv2. ABSOLUTELY NO WARRANTY!
-->

<body style="background-color: #000;">
</body>

<script src="util.js"></script>
<script src="convas.js"></script>
<script src="fs.js"></script>
<script>
	var convas = new Convas("vim", 80, 24, 11);
	convas.write("What's your name? ");
	convas.buffer.color = FG_R|FG_G;
	convas.readLine(true, function(name) {
		convas.buffer.color = BG_R|BG_G;
		convas.write("Hello, " + name + "\n");
		convas.readKey(false, function fn(key) {
			var ch = String.fromCharCode(key);
			switch (ch) {
				case 'h':
					convas.cursorTo(convas.buffer.x - 1,
									convas.buffer.y);
					break;
				case 'l':
					convas.cursorTo(convas.buffer.x + 1,
									convas.buffer.y);
					break;
				case 'j':
					convas.cursorTo(convas.buffer.x,
									convas.buffer.y + 1);
					break;
				case 'k':
					convas.cursorTo(convas.buffer.x,
								    convas.buffer.y - 1);
					break;
			}
			convas.readKey(false, fn);
		});
	});
</script>
<!--<script src="fs.js"></script>
<script src="vim.js"></script>
<script>
	var con = new Console("c", "文泉驿等宽微米黑", 16, 80, 25);
	var fs  = new FileSystem('/dev/vim.js');
	var vim = new Vim(con, fs);
	
	con.adjust_y = -3;
	var t = "Hello,\nWorld!\nasdjgadjkagdjkasgdkhada" + 
			"shdgakshdgasdfasdasdjfdjdfadasdfqwuetyf" + 
			"qwiuefqwieqfweiqwfeqjkwegfqwjkefawjdafw" + 
			"dgjfjwdgf\nddd\ndaf\nwriu6374\nsdfgs\n4" + 
			"44\nrsgerg\n\n\n\n\n\n\n\nsrfasasaaer34";
	for (var i=0; i<6; i++) t = t + t;
	vim.loadText(t);
</script>-->

